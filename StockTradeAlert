import requests

STOCK_NAME = 'TSLA'
COMPANY_NAME = 'Tesla Inc'

STOCK_ENDPOINT = "https://www.alphavantage.co/query"
NEWS_ENDPOINT = "https://newsapi.org/v2/everything"
API_KEY = " "
NEW_API_KEY = " "

STOCK_PARAMS = {
    'function': 'TIME_SERIES_DAILY',
    'symbol': STOCK_NAME,
    'apikey': API_KEY
    }

NEWS_PARAMS = {
    'q': STOCK_NAME,
    'apiKey': NEWS_API_KEY
    }   
    
# STEP 1: Use https://www.alphavantage.co/documentation/#daily
# When stock price increase/decreases by 5% between yesterday and the day before yesterday then print("Get News").

response = requests.get(STOCK_ENDPOINT, STOCK_PARAMS)
response.raise_for_status()
stock_data = response.json()['Time Series (Daily)']
stock_list = [value for (key, value) in stock_data.items()]
yesterday_data = stock_list[0]
yesterday_stock_price = yesterday_data['4. close']

day_before_yesterday_data = stock_list[1]
day_before_yesterday_stock_price = day_before_yesterday_data['4. close']

price_diff = abs(float(yesterday_stock_price) - float(day_before_yesterday_stock_price)) / float(yesterday_stock_price)
price_perc = '{0:.2%}'.format(price_diff)

if price_perc > 5:
    print('Get News')

# STEP 2: https://newsapi.org/ 
# Instead of printing ("Get News"), actually get the first 3 news pieces for the COMPANY_NAME. 
